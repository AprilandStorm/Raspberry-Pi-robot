# 用于控制 PCA9685 芯片的 C++ 驱动类
代码分为两个主要部分：
1. 类的声明（.hpp头文件）- 定义了类的成员变量、方法声明
2. 类的实现 - 实现了所有成员函数的具体逻辑

## I2C（Inter-Intergrated Circuit）
- I²C 通信原理
   1. 主从架构\
      (1) 主设备（Master）：发起通信（如树莓派）\
  (2) 从设备（Slave）：响应请求（如传感器、EEPROM）
   2. 通信流程
(1) 主设备发送起始信号（START）\
(2) 发送 从设备地址 + 读/写位（7位地址 + 1位 R/W）\
(3) 从设备应答（ACK）\
(4) 主设备发送 寄存器地址（可选）\
(5) 主设备读/写数据\
(6) 主设备发送 停止信号（STOP）
   3. 地址格式
(1) 7位地址 + 1位读写位; 例如：0x40 写 = 0x80，0x40 读 = 0x81

- I²C 的优点
1. 简单	只需两根线
2. 多设备共享	多个传感器共用总线
3. 地址寻址	可区分多个相同型号设备
4. 广泛支持	几乎所有传感器都支持 I²C
- I²C 的缺点\
1. 速度慢 不适合高速数据传输（如摄像头）
2. 距离短 	一般不超过 1 米
3. 总线冲突 多主模式下需仲裁

## 初始化
- ioctl() 是 Linux 的 I/O 控制系统调用（Input/Output Control）, 用于对设备文件进行非标准读写操作（比如配置设备、获取状态等）
```
int ioctl(int fd, unsigned long request, ...);
```
- I2C_SLAVE  是一个 ioctl 请求码（request code）, 定义在 <linux/i2c-dev.h> 头文件中, 含义：设置当前操作的 I²C 从设备地址. 注意：I2C_SLAVE 会修改内核中该文件描述符的状态，后续所有 read/write 都会自动发送到这个从设备。
- 扫描 I²C 设备地址：sudo i2cdetect -y 1
